<svg width="700" height="600" viewBox="0 0 700 600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <path fill="#666" d="m0 0 10 3.5L0 7z"/>
    </marker>
    <style>
      .component-box{fill:#fff;stroke:#666;stroke-width:1.5}.text-small,.text-subtitle,.text-title{font-family:Arial,sans-serif;text-anchor:middle}.text-title{font-size:14px;font-weight:700}.text-subtitle{font-size:12px}.text-small{font-size:10px}.arrow{stroke:#666;stroke-width:2;fill:none;marker-end:url(#arrowhead)}
    </style>
  </defs>
  <rect x="20" y="20" width="660" height="120" rx="8" style="fill:#e3f2fd;stroke:#1976d2;stroke-width:2"/>
  <text x="350" y="40" class="text-title" fill="#1976d2">Application Layer</text>
  <rect x="80" y="60" width="150" height="60" class="component-box" rx="4"/>
  <text x="155" y="80" class="text-subtitle" fill="#333">MyByteSocket</text>
  <text x="155" y="100" class="text-small" fill="#666">(User App)</text>
  <rect x="470" y="60" width="150" height="60" class="component-box" rx="4"/>
  <text x="545" y="80" class="text-subtitle" fill="#333">MyJsonSocket</text>
  <text x="545" y="100" class="text-small" fill="#666">(User App)</text>
  <rect x="20" y="160" width="660" height="200" rx="8" style="fill:#f3e5f5;stroke:#7b1fa2;stroke-width:2"/>
  <text x="350" y="180" class="text-title" fill="#7b1fa2">ServerSocket Framework</text>
  <rect x="80" y="200" width="140" height="60" class="component-box" rx="4"/>
  <text x="150" y="220" class="text-subtitle" fill="#333">ByteSocket</text>
  <text x="150" y="240" class="text-small" fill="#666">&lt;H, C&gt;</text>
  <rect x="480" y="200" width="140" height="60" class="component-box" rx="4"/>
  <text x="550" y="220" class="text-subtitle" fill="#333">JsonSocket</text>
  <text x="550" y="240" class="text-small" fill="#666">&lt;H, C&gt;</text>
  <rect x="60" y="290" width="580" height="50" class="component-box" rx="4"/>
  <text x="350" y="310" class="text-subtitle" fill="#333">SocketBase&lt;H, C, M, B&gt;</text>
  <text x="350" y="325" class="text-small" fill="#666">(完整泛型設計的基礎框架)</text>
  <rect x="20" y="380" width="660" height="120" rx="8" style="fill:#e8f5e8;stroke:#388e3c;stroke-width:2"/>
  <text x="350" y="400" class="text-title" fill="#388e3c">Component Layer</text>
  <rect x="60" y="420" width="140" height="60" class="component-box" rx="4"/>
  <text x="130" y="440" class="text-subtitle" fill="#333">RateLimiter</text>
  <text x="130" y="455" class="text-small" fill="#666">(限流器)</text>
  <rect x="280" y="420" width="140" height="60" class="component-box" rx="4"/>
  <text x="350" y="440" class="text-subtitle" fill="#333">ProtocolCatcher</text>
  <text x="350" y="455" class="text-small" fill="#666">(捕獲器)</text>
  <rect x="500" y="420" width="140" height="60" class="component-box" rx="4"/>
  <text x="570" y="440" class="text-subtitle" fill="#333">CacheManager</text>
  <text x="570" y="455" class="text-small" fill="#666">(快取管理)</text>
  <rect x="20" y="520" width="660" height="60" rx="8" style="fill:#fff3e0;stroke:#f57c00;stroke-width:2"/>
  <text x="350" y="540" class="text-title" fill="#f57c00">SocketIO Core</text>
  <text x="350" y="560" class="text-small" fill="#666">ByteArrayBuffer, JsonUtil, ProfilerUtil, SnowflakeUtil</text>
  <path class="arrow" d="m155 120-5 80"/>
  <path class="arrow" d="m545 120 5 80"/>
  <path class="arrow" d="m150 260 50 30"/>
  <path class="arrow" d="m550 260-50 30"/>
  <path class="arrow" d="m250 340-120 80"/>
  <path class="arrow" d="M350 340v80"/>
  <path class="arrow" d="m450 340 120 80"/>
  <path class="arrow" d="m130 480 120 40"/>
  <path class="arrow" d="M350 480v40"/>
  <path class="arrow" d="m570 480-120 40"/>
</svg>
